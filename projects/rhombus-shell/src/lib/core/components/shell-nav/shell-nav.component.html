<mat-nav-list class="nav-list__container">
    <ng-container *ngFor="let navEntry of navEntries">
        <ng-container *ngTemplateOutlet="navEntry.children ? groupEntry : itemEntry; context: { $implicit: navEntry }"></ng-container>
    </ng-container>

    <ng-template #groupEntry let-navEntry>
        <mat-expansion-panel [expanded]="true">
            <mat-expansion-panel-header>
                <mat-panel-title>{{ navEntry.name }}</mat-panel-title>
            </mat-expansion-panel-header>
            <mat-nav-list>
                <ng-container *ngFor="let navItem of navEntry.children">
                    <ng-container *ngTemplateOutlet="itemEntry; context: { $implicit: navItem }"></ng-container>
                </ng-container>
            </mat-nav-list>
        </mat-expansion-panel>
    </ng-template>

    <ng-template #itemEntry let-navEntry>
        <mat-list-item [routerLink]="navEntry.route">
            <h4 mat-line>{{ navEntry.name }}</h4>
        </mat-list-item>
    </ng-template>
</mat-nav-list>